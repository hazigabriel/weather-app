(()=>{"use strict";const e=function(e,t,n,o,c,r,u,i,a){var l;document.querySelector(".cityName").textContent=`${e}, ${t}`,document.querySelector(".temperature").textContent=Math.round(n)+"°",document.querySelector(".currentForecast").textContent=`${o}(${c})`,document.querySelector(".temperatureFelt").textContent=Math.round(r)+"°",document.querySelector(".humidity").textContent=u+"%\t ",document.querySelector(".wind").textContent=`${Math.round(3.6*i)} km/h ${l=a,0==l?"":l>337.5?"N":l>292.5?"NW":l>247.5?"W":l>202.5?"SW":l>157.5?"S":l>122.5?"SE":l>67.5?"E":l>22.5?"NE":void 0}`};document.querySelector(".getGeolocation").addEventListener("click",(function(){}));const t=function(t){fetch(`http://api.openweathermap.org/data/2.5/weather?q=${t}&appid=dd56feccf641467a3fb598d6e6f9ac6f&units=metric`,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){console.log(t),e(t.name,t.sys.country,t.main.temp,t.weather[0].main,t.weather[0].description,t.main.feels_like,t.main.humidity,t.wind.speed,t.wind.deg),console.log(new Date(1e3*t.dt-1e3*t.timezone)),console.log(new Date(1e3*t.dt+1e3*t.timezone))}))},n=function(t,n){fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${n}&exclude=minutely,hourly&appid=dd56feccf641467a3fb598d6e6f9ac6f&units=metric`,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){console.log(t),fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t.lat}&lon=${t.lon}&appid=dd56feccf641467a3fb598d6e6f9ac6f&units=metric`,{mode:"cors"}).then((function(e){return e.json()})).then((function(n){e(t.timezone.split("/").pop(),n.sys.country,t.current.temp,t.current.weather[0].main,t.current.weather[0].description,t.current.feels_like,t.current.humidity,t.current.wind_speed,t.current.wind_deg),function(e){let t=document.querySelectorAll(".day");document.querySelectorAll(".weeklyHighTemp"),document.querySelectorAll(".weeklyLowTemp"),document.querySelectorAll(".weeklyForecast");for(let n=0;n<t.length;n++)console.log(e[n])}(t.daily)}))}))};(function(){let e=document.querySelector(".cityNameInput");document.querySelector(".getCityName").addEventListener("click",(function(){""!=e.value&&(t(e.value),e.value="")}))})(),document.querySelector(".getGeolocation").addEventListener("click",(function(){navigator.geolocation.getCurrentPosition((function(e){let t=e.coords.latitude,o=e.coords.longitude;n(t,o)}))})),t("Bucharest"),window.fetchWeather=t})();